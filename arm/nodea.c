#include<lpc21xx.h>
#include"header2.h"
can2 t,t1;
main()
{
unsigned char flag=0,flag1=0,flag2=0;
can2_init();
t.rtr=0;
t.dlc=4;
while(1)
{

if(((IOPIN0>>14)&1)==0)
{
while(((IOPIN0>>14)&1)==0);
delay_ms(20);
flag^=1;
if(flag)
{
t.id=0x500;
t.data1=0x1;
can2_tx(t);
}
else
{
t.id=0x505;
t.data1=0x2;
can2_tx(t);
}
}
else if(((IOPIN0>>15)&1)==0)
{
while(((IOPIN0>>15)&1)==0);
delay_ms(20);
flag1^=1;
if(flag1)
{
t.id=0x501;
t.data1=0x3;
can2_tx(t);
}
else
{
t.id=0x502;
t.data1=0x4;
can2_tx(t);
}
}
else if(((IOPIN0>>16)&1)==0)
{
while(((IOPIN0>>16)&1)==0);
delay_ms(20);
flag2^=1;
if(flag2)
{
t.id=0x503;
t.data1=0x5;
can2_tx(t);
}
else
{
t.id=0x504;
t.data1=0x6;
can2_tx(t);
}
}
}
}

